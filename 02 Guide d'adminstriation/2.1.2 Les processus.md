# **Quâ€™est-ce quâ€™un PID ?**

> [!summary] PID
> Un _PID_ est un **Process Identifier**, câ€™est-Ã -dire un numÃ©ro unique donnÃ© Ã  chaque programme en cours dâ€™exÃ©cution.

> [!cite] Documentation officielle : 
> [https://man7.org/linux/man-pages/man5/proc.5.html](https://man7.org/linux/man-pages/man5/proc.5.html)  
(section : `/proc/[pid]`)


# **Pourquoi le PID 1 est spÃ©cial ?**

Lorsque Linux dÃ©marre, il doit lancer un premier programme qui est chargÃ© de dÃ©marrer tout le reste : ce programme reÃ§oit automatiquement le numÃ©ro **1**.

Ce programme est appelÃ© **init** (_initialization system_).

> [!cite] Documentation officielle du noyau Linux (init) :  
> [https://www.kernel.org/doc/html/latest/admin-guide/init.html](https://www.kernel.org/doc/html/latest/admin-guide/init.html)

## RÃ´le de PID 1

- Il lance **tous les autres services** de la machine.
- Il adopte **tous les processus orphelins** (processus dont le parent est mort).
- Il gÃ¨re les commandes systÃ¨me comme `shutdown`, `reboot`, `poweroff`.


> [!cite] Fonctionnement du PID 1
> [https://www.kernel.org/doc/Documentation/admin-guide/sysctl/kernel.txt](https://www.kernel.org/doc/Documentation/admin-guide/sysctl/kernel.txt)  
> (section : `pid_max` et rÃ´les des processus)

---

[[2.1 DÃ©marrage du systÃ¨me]]

# 4) Les diffÃ©rences entre distributions : OpenRC vs systemd

Selon la distribution, le PID 1 nâ€™est **pas le mÃªme programme**.

---

## ğŸŸ¦ **Sur Alpine Linux : PID 1 = OpenRC init (simple et lÃ©ger)**

OpenRC est un systÃ¨me d'initialisation **lÃ©ger**, **lisible**, **non-intrusif**.  
Il respecte trÃ¨s fortement la philosophie Unix :

> Â« un programme = une tÃ¢che Â».

ğŸ“Œ Documentation officielle OpenRC :  
[https://github.com/OpenRC/openrc/blob/master/README.md](https://github.com/OpenRC/openrc/blob/master/README.md)

### ConsÃ©quence :

â†’ PID 1 ne fait _quâ€™une seule chose_ : **lancer et superviser les services**.

Exemple sur Alpine :

```
ps -p 1 -o pid,cmd
```

donnera :

```
1 /sbin/init
```

---

## ğŸŸ¥ **Sur Ubuntu : PID 1 = systemd (gros, multifonction)**

Ubuntu utilise **systemd**, un systÃ¨me d'initialisation **trÃ¨s complet**, qui regroupe Ã©normÃ©ment de fonctionnalitÃ©s dans un seul composant.

ğŸ“Œ Documentation systemd officielle :  
[https://www.freedesktop.org/wiki/Software/systemd/](https://www.freedesktop.org/wiki/Software/systemd/)

### systemd fait plusieurs rÃ´les Ã  la fois :
- gestion des services (`systemctl`)
- gestion du journal systÃ¨me (journald)    
- gestion des timers (planification)    
- gestion des montages (fstab)    
- gestion des sessions utilisateur    
- gestion du rÃ©seau (networkd)    

â¡ï¸ Il sâ€™Ã©loigne de la philosophie Unix.  
â¡ï¸ Beaucoup de fonctionnalitÃ©s sont intÃ©grÃ©es dans le PID 1.

Exemple :

```
ps -p 1 -o pid,cmd
```

donnera :

```
1 /lib/systemd/systemd
```

---

# 5) Pourquoi PID 1 ne peut JAMAIS mourir ?

Le **PID 1 est vital**.  
Le noyau Linux lui donne un statut spÃ©cial :

- Si PID 1 se termine â†’ **kernel panic** (plantage fatal du systÃ¨me)
    
- Aucun autre processus ne peut se substituer Ã  PID 1
    
- Toute la hiÃ©rarchie des processus dÃ©pend de lui
    

ğŸ“Œ Comportement documentÃ© dans le kernel :  
[https://man7.org/linux/man-pages/man7/signal.7.html](https://man7.org/linux/man-pages/man7/signal.7.html)  
(section Â« Signal Behavior of Init Process Â»)

---

# 6) Le rÃ´le du PID 1 dans la hiÃ©rarchie des processus

### âœ” Tous les processus ont un parent sauf PID 1

â†’ PID 1 est **la racine**.

### âœ” Si un parent meurt

â†’ Le noyau rattache lâ€™orphelin Ã  PID 1 (adoption automatique).

ğŸ“Œ Documentation kernel :  
[https://www.kernel.org/doc/html/latest/core-api/pid.html](https://www.kernel.org/doc/html/latest/core-api/pid.html)

---


